# Используем базовый образ Node.js
FROM node:18

# Устанавливаем переменную окружения для порта
ARG PORT
ENV PORT=$PORT

# Устанавливаем рабочую директорию
WORKDIR /app

# Копируем package.json и устанавливаем зависимости
COPY package.json ./
RUN npm install

# Копируем все остальные файлы в рабочую директорию
COPY . .

# Экспонируем порт, указанный в переменной окружения
EXPOSE $PORT

# Команда для запуска сервиса
CMD ["node", "index.js"]
