(function(){var e={2503:function(e,t,n){const a=n(6425),s="http://localhost:5002/api/notify";async function o(e,t){try{const n=await a.post(`${s}/send-notify`,{eventName:e,eventDesc:t});return n.data}catch(n){throw console.error("Error sending notifications:",n),n}}async function i(e){try{const t=await a.post(`${s}/toggle-sub`,{email:e});return t.data.message}catch(t){throw console.error("Error when toggling subscription to notifications:",t),t}}async function r(e){try{const t=await a.post(`${s}/check-sub`,{email:e});return t.data.state}catch(t){throw console.error("Error:",t),t}}e.exports={sendNotification:o,toggleSubscription:i,checkSubscription:r}},3466:function(e,t,n){"use strict";var a=n(5130),s=n(6768);const o={id:"#app"};function i(e,t,n,a,i,r){const l=(0,s.g2)("header-element"),c=(0,s.g2)("router-view"),u=(0,s.g2)("footer-element");return(0,s.uX)(),(0,s.CE)("div",o,[(0,s.bF)(l),(0,s.bF)(c),(0,s.bF)(u)])}var r=n(4232),l=n.p+"img/Logo.28d568c5.svg",c=n.p+"img/Notify-no.744a5bd7.svg",u=n.p+"img/Notify-yes.28243cb6.svg";const d={class:"header-container"},p={class:"header"},v={class:"logo-container"},m={class:"user-menu"};function g(e,t,n,a,o,i){const g=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",d,[(0,s.Lk)("div",p,[(0,s.Lk)("div",v,[(0,s.bF)(g,{to:"/"},{default:(0,s.k6)((()=>t[3]||(t[3]=[(0,s.Lk)("img",{src:l},null,-1)]))),_:1})]),t[7]||(t[7]=(0,s.Fv)('<div class="header-menu"><span class="menu-text">Home</span><span class="menu-text">Events</span><span class="menu-text">About</span><span class="menu-text">Contact</span></div>',1)),(0,s.Lk)("div",m,[e.isAuthentificated?((0,s.uX)(),(0,s.Wv)(g,{key:0,to:"/EventForm",class:"menu-text"},{default:(0,s.k6)((()=>t[4]||(t[4]=[(0,s.Lk)("span",{class:"menu-text"},"Create Event",-1)]))),_:1})):((0,s.uX)(),(0,s.Wv)(g,{key:1,to:"/LogIn",class:"menu-text"},{default:(0,s.k6)((()=>t[5]||(t[5]=[(0,s.Lk)("span",null,"Login",-1)]))),_:1})),e.isAuthentificated?((0,s.uX)(),(0,s.CE)("span",{key:2,class:"menu-text",onClick:t[0]||(t[0]=e=>i.logout())},(0,r.v_)(e.userProfile.name),1)):((0,s.uX)(),(0,s.Wv)(g,{key:3,to:"/SignUp"},{default:(0,s.k6)((()=>t[6]||(t[6]=[(0,s.Lk)("button",{class:"menu-sign-up"},"Sign Up",-1)]))),_:1})),e.isAuthentificated&&!e.notify?((0,s.uX)(),(0,s.CE)("img",{key:4,src:c,width:"35",onClick:t[1]||(t[1]=e=>i.toggleSubscription())})):(0,s.Q3)("",!0),e.isAuthentificated&&e.notify?((0,s.uX)(),(0,s.CE)("img",{key:5,src:u,width:"35",onClick:t[2]||(t[2]=e=>i.toggleSubscription())})):(0,s.Q3)("",!0)])])])}var h=n(782),f=n(2503),y={computed:{...(0,h.aH)(["userProfile"]),...(0,h.aH)(["isAuthentificated"]),...(0,h.aH)(["notify"])},methods:{logout(){this.$store.dispatch("logout",{})},async toggleSubscription(){const e=await(0,f.toggleSubscription)(this.userProfile.email);this.$store.dispatch("toggleUserSubscription",!this.$store.state.userProfile.isSubscribed),alert(e)}}},k=n(1241);const b=(0,k.A)(y,[["render",g]]);var L=b,I=n.p+"img/Apps.c0b06a53.svg";const E={class:"footer-container"};function w(e,t){return(0,s.uX)(),(0,s.CE)("div",E,t[0]||(t[0]=[(0,s.Fv)('<div class="footer-menu"><div class="footer-column"><span class="footer-column-head">Company Info</span><span class="footer-column-element">About Us</span><span class="footer-column-element">Contact Us</span><span class="footer-column-element">Careers</span><span class="footer-column-element">FAQs</span><span class="footer-column-element">Terms of service</span><span class="footer-column-element">Privacy Policy</span></div><div class="footer-column"><span class="footer-column-head">Help</span><span class="footer-column-element">Account Support</span><span class="footer-column-element">Listing Events</span><span class="footer-column-element">Event Tickening</span><span class="footer-column-element">Ticket Purchase Term &amp; Conditions</span></div><div class="footer-column"><span class="footer-column-head">Categories</span><span class="footer-column-element">Concert &amp; Gigs</span><span class="footer-column-element">Festivals &amp; Lifestyle</span><span class="footer-column-element">Business &amp; Networking</span><span class="footer-column-element">Food &amp; Drinks</span><span class="footer-column-element">Performing Arts</span><span class="footer-column-element">Sports &amp; Outdoors</span><span class="footer-column-element">Exhibitions</span><span class="footer-column-element">Workshops, Conferences &amp; Classes</span></div><div class="footer-column"><span class="footer-column-head">Follow Us</span><span class="footer-column-element">Facebook</span><span class="footer-column-element">Instagram</span><span class="footer-column-element">Twitter</span><span class="footer-column-element">Youtube</span></div><div class="footer-column"><span class="footer-column-head">Download The App</span><img src="'+I+'"></div></div>',1)]))}const C={},S=(0,k.A)(C,[["render",w]]);var D=S,T={name:"App",components:{HeaderElement:L,FooterElement:D}};const F=(0,k.A)(T,[["render",i]]);var A=F,P=n(1387),x=n.p+"img/Google.04379def.svg",U=n.p+"img/Facebook.a6d6fa09.svg";const $={class:"signup-page"},N={class:"signup-container"},X={class:"signup-area"},O={class:"signup-login"};function W(e,t,n,o,i,r){const l=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",$,[(0,s.Lk)("div",N,[t[11]||(t[11]=(0,s.Lk)("div",{style:{display:"flex","flex-direction":"column","padding-left":"5%"}},[(0,s.Lk)("span",{class:"signup-slogan"}," Discover tailored events."),(0,s.Lk)("span",{class:"signup-slogan"}," Sign up for personalized recommendations today! ")],-1)),(0,s.Lk)("div",X,[t[10]||(t[10]=(0,s.Fv)('<span class="signup-head"> Create Account </span><div class="signup-buttons"><button class="signup-service"><img src="'+x+'" style="width:25px;margin-right:5px;"> Sign up with Google </button><button class="signup-service"><img src="'+U+'" style="width:25px;margin-right:5px;"> Sign up with Facebook </button></div>',2)),(0,s.Lk)("form",{class:"signup-form",onSubmit:t[3]||(t[3]=(0,a.D$)((e=>r.register()),["prevent"]))},[t[4]||(t[4]=(0,s.Lk)("label",{for:"signup-name",class:"signup-label"},"Full Name",-1)),(0,s.bo)((0,s.Lk)("input",{id:"signup-name",placeholder:"Enter your full name",class:"signup-input",required:"","onUpdate:modelValue":t[0]||(t[0]=e=>this.registrationData.name=e)},null,512),[[a.Jo,this.registrationData.name]]),t[5]||(t[5]=(0,s.Lk)("label",{for:"signup-email",class:"signup-label"},"Email Address",-1)),(0,s.bo)((0,s.Lk)("input",{id:"signup-email",placeholder:"Enter your e-mail",class:"signup-input",required:"","onUpdate:modelValue":t[1]||(t[1]=e=>this.registrationData.email=e)},null,512),[[a.Jo,this.registrationData.email]]),t[6]||(t[6]=(0,s.Lk)("label",{for:"signup-pass",class:"signup-label"},"Password",-1)),(0,s.bo)((0,s.Lk)("input",{id:"signup-pass",placeholder:"Enter password",class:"signup-input",type:"password",required:"","onUpdate:modelValue":t[2]||(t[2]=e=>this.registrationData.password=e)},null,512),[[a.Jo,this.registrationData.password]]),t[7]||(t[7]=(0,s.Lk)("input",{type:"submit",value:"Create Account",class:"signup-submit"},null,-1))],32),(0,s.Lk)("span",O,[t[9]||(t[9]=(0,s.eW)(" Already have an account? ")),(0,s.bF)(l,{to:"/LogIn"},{default:(0,s.k6)((()=>t[8]||(t[8]=[(0,s.eW)(" Log in")]))),_:1})])])])])}n(4114);var _=n(4373),J=n(6400),V=n(7307);const q={apiKey:"AIzaSyC4RoH7Xps3-Ud4JemImFN3_E8uubX3cHg",authDomain:"pad-project-eb1af.firebaseapp.com",projectId:"pad-project-eb1af"},j=(0,J.Wp)(q),H=(0,V.xI)(j),z="http://localhost:5001/api/auth";async function B(e){try{const t=await _.A.post(`${z}/register`,e);return t.data}catch(t){throw new Error(t.response?t.response.data.error:"Network error")}}async function M(e,t){try{const n=await(0,V.x9)(H,e,t);console.log(n);const a=await n.user.getIdToken(),s=await _.A.post(`${z}/verify-token`,{token:a});return s.data}catch(n){throw console.error("Login error:",n),n}}async function Q(){await(0,V.CI)(H)}var R={data(){return{registrationData:{name:"",email:"",password:""}}},methods:{validateEmail(e){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},validatePassword(e){const t=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;return t.test(e)},async register(){if(this.registrationData.name.length<4||this.registrationData.name.length>12)alert("Wrong name format");else if(this.validateEmail(this.registrationData.email))if(this.validatePassword(this.registrationData.password))try{await B(this.registrationData),alert("Registration was successful!"),Ct.push({name:"LogIn"})}catch(e){alert(e.message)}else alert("The password must be at least 8 characters and contain letters and numbers");else alert("Wrong email format")}}};const G=(0,k.A)(R,[["render",W]]);var K=G;const Y={class:"home-page-container"};function Z(e,t,n,a,o,i){const r=(0,s.g2)("banner-element"),l=(0,s.g2)("categories-element"),c=(0,s.g2)("catalogue-element");return(0,s.uX)(),(0,s.CE)("div",Y,[(0,s.bF)(r),(0,s.bF)(l),(0,s.bF)(c)])}var ee=n.p+"img/Banner.dcd85323.jpg";const te={class:"banner-container"};function ne(e,t){return(0,s.uX)(),(0,s.CE)("div",te,t[0]||(t[0]=[(0,s.Fv)('<img class="banner-image" src="'+ee+'"><div class="banner-text-group"><span class="banner-text">Donâ€™t miss out!</span><span class="banner-text"> Explore the <span style="color:#ffe047;">vibrant events</span> happening locally and globally. </span></div>',2)]))}const ae={},se=(0,k.A)(ae,[["render",ne]]);var oe=se;const ie={class:"catalogue-container"},re={class:"catalogue-grid"};function le(e,t,n,a,o,i){const r=(0,s.g2)("event-card"),l=(0,s.g2)("b-col"),c=(0,s.g2)("b-row");return(0,s.uX)(),(0,s.CE)("div",ie,[t[0]||(t[0]=(0,s.Lk)("span",{class:"catalogue-head"}," Popular Events ",-1)),(0,s.Lk)("div",re,[(0,s.bF)(c,{class:"grid-row"},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.events,(e=>((0,s.uX)(),(0,s.Wv)(l,{cols:"4",key:e.id},{default:(0,s.k6)((()=>[(0,s.bF)(r,{eventID:e.id,eventName:e.eventName,eventPlace:e.eventPlace,eventTimeStart:e.eventTimeStart,eventTimeFinish:e.eventTimeFinish,eventPrice:e.eventPrice,eventDate:e.eventDate,eventImage:e.eventImage,onDelete:i.removeEvent,onEdit:i.editEvent},null,8,["eventID","eventName","eventPlace","eventTimeStart","eventTimeFinish","eventPrice","eventDate","eventImage","onDelete","onEdit"])])),_:2},1024)))),128))])),_:1})])])}const ce="http://localhost:5000/api/events",ue=async()=>{try{const e=await _.A.get(`${ce}/`),t=e.data,n=t.map((e=>({...e,eventImage:e.eventImage?e.eventImage:""})));return n}catch(e){throw console.error("Error fetching events:",e),e}},de=async e=>{try{const t=await _.A.get(`${ce}/${e}`);return t.data}catch(t){throw console.error("Error receiving event by id:",t),t}},pe=async e=>{try{const t=await _.A.post(`${ce}/`,e);return t.data}catch(t){throw console.error("Error creating event:",t),t}},ve=async e=>{try{const t=await _.A.delete(`${ce}/${e}`);return t.data}catch(t){throw console.error("Error deleting event:",t),t}},me=async e=>{try{const t=await(0,_.A)({method:"PUT",url:`${ce}/events/${e.get("id")}`,data:e,headers:{"Content-Type":"multipart/form-data"}});return t.data}catch(t){throw console.error("Error updating event:",t),t}},ge={class:"card-container"},he=["src"],fe={class:"card-desc"},ye={class:"card-date-info"},ke={class:"card-event-header"},be={class:"card-name"},Le={class:"card-location"},Ie={class:"card-event-footer"},Ee={class:"card-time"},we={key:0,class:"card-time"},Ce={class:"card-price"},Se={key:0,class:"card-btn-area"};function De(e,t,n,a,o,i){return(0,s.uX)(),(0,s.CE)("div",ge,[(0,s.Lk)("img",{src:n.eventImage,style:{width:"400px",height:"250px"}},null,8,he),(0,s.Lk)("div",fe,[(0,s.Lk)("div",ye,[(0,s.Lk)("span",null,(0,r.v_)(o.month),1),(0,s.Lk)("span",null,(0,r.v_)(o.day),1)]),(0,s.Lk)("div",ke,[(0,s.Lk)("span",be,(0,r.v_)(n.eventName),1),(0,s.Lk)("span",Le,(0,r.v_)(n.eventPlace),1),(0,s.Lk)("div",Ie,[(0,s.Lk)("span",Ee,[(0,s.eW)((0,r.v_)(n.eventTimeStart)+" ",1),n.eventTimeFinish?((0,s.uX)(),(0,s.CE)("span",we," - "+(0,r.v_)(n.eventTimeFinish),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("span",Ce,(0,r.v_)(n.eventPrice)+".00$",1)])])]),e.isAuthentificated?((0,s.uX)(),(0,s.CE)("div",Se,[(0,s.Lk)("button",{class:"card-edit",onClick:t[0]||(t[0]=e=>i.editEvent())},"EDIT"),(0,s.Lk)("button",{class:"card-delete",onClick:t[1]||(t[1]=e=>i.deleteEvent())},"DELETE")])):(0,s.Q3)("",!0)])}var Te={props:{eventID:{},eventName:{},eventPlace:{},eventTimeStart:{},eventTimeFinish:{},eventPrice:{},eventDate:{},eventImage:{}},computed:{...(0,h.aH)(["isAuthentificated"])},data(){return{day:0,month:""}},created(){if(!this.eventDate)return"";const e=new Date(this.eventDate);this.day=e.getDate();const t=e.getMonth(),n=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];this.month=n[t]},methods:{editEvent(){this.$emit("edit",this.eventID)},deleteEvent(){this.$emit("delete",this.eventID)}}};const Fe=(0,k.A)(Te,[["render",De]]);var Ae=Fe,Pe={components:{EventCard:Ae},data(){return{events:[]}},methods:{async fetchEvents(){try{const e=await ue();this.events=e}catch(e){console.error("Failed to fetch events:",e)}},async removeEvent(e){try{await ve(e),this.events=this.events.filter((t=>t.id!==e))}catch(t){console.error("Failed to delete event:",t)}},async editEvent(e){this.$router.push({name:"EventForm",params:{id:e}})}},mounted(){this.fetchEvents()}};const xe=(0,k.A)(Pe,[["render",le]]);var Ue=xe,$e=n.p+"img/Cat-1.68d70e0d.svg",Ne=n.p+"img/Cat-2.f24eda45.svg",Xe=n.p+"img/Cat-3.07c6d457.svg",Oe=n.p+"img/Cat-4.f9fea30e.svg",We=n.p+"img/Cat-5.27791e08.svg",_e=n.p+"img/Cat-6.c1219f7f.svg";const Je={class:"categories-container"};function Ve(e,t){return(0,s.uX)(),(0,s.CE)("div",Je,t[0]||(t[0]=[(0,s.Fv)('<span class="categories-head">Explore Categories</span><div class="categories-categories"><div class="categories-category"><img src="'+$e+'"><span class="category-name">Entertainment</span></div><div class="categories-category"><img src="'+Ne+'"><span class="category-name">Educational &amp; Business</span></div><div class="categories-category"><img src="'+Xe+'"><span class="category-name">Cultural &amp; Arts</span></div><div class="categories-category"><img src="'+Oe+'"><span class="category-name">Sports &amp; Fitness</span></div><div class="categories-category"><img src="'+We+'"><span class="category-name">Technology &amp; Innovation</span></div><div class="categories-category"><img src="'+_e+'"><span class="category-name">Travel &amp; Adventure</span></div></div>',2)]))}const qe={},je=(0,k.A)(qe,[["render",Ve]]);var He=je,ze={components:{BannerElement:oe,CatalogueElement:Ue,CategoriesElement:He}};const Be=(0,k.A)(ze,[["render",Z]]);var Me=Be;const Qe={class:"crud-container"},Re={class:"crud-block"},Ge={class:"crud-block"},Ke={class:"crud-block"},Ye={class:"crud-block"},Ze={class:"crud-data"},et=["min"],tt={class:"crud-data"},nt={class:"crud-data"},at={class:"crud-block"},st={class:"crud-block"},ot={class:"crud-block"},it=["required","disabled"],rt={key:1,for:"file-chexbox",class:"crud-radio"},lt={class:"crud-block"};function ct(e,t,n,o,i,r){return(0,s.uX)(),(0,s.CE)("div",Qe,[(0,s.Lk)("form",{class:"crud-form",onSubmit:t[14]||(t[14]=(0,a.D$)(((...e)=>r.submitForm&&r.submitForm(...e)),["prevent"]))},[t[29]||(t[29]=(0,s.Lk)("span",{class:"crud-head"},"Create/Edit an Event",-1)),t[30]||(t[30]=(0,s.Lk)("span",{class:"crud-theme"},"Event Details",-1)),(0,s.Lk)("div",Re,[t[15]||(t[15]=(0,s.Lk)("span",{class:"crud-name"},[(0,s.eW)(" Event Title "),(0,s.Lk)("span",{style:{color:"red"}},"*")],-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.eventInfo.eventName=e),class:"crud-input",placeholder:"Enter the name of your event",required:""},null,512),[[a.Jo,i.eventInfo.eventName]])]),(0,s.Lk)("div",Ge,[t[17]||(t[17]=(0,s.Lk)("span",{class:"crud-name"},[(0,s.eW)(" Event Category "),(0,s.Lk)("span",{style:{color:"red"}},"*")],-1)),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.eventInfo.eventCategory=e),class:"crud-select",required:""},t[16]||(t[16]=[(0,s.Fv)('<option value="---" selected disabled>-- Please select one --</option><option value="Entertainment">Entertainment</option><option value="Educational &amp; Business">Educational &amp; Business</option><option value="Cultural &amp; Arts">Cultural &amp; Arts</option><option value="Sports &amp; Fitness">Sports &amp; Fitness</option><option value="Technology &amp; Innovation"> Technology &amp; Innovation </option><option value="Travel &amp; Adventure">Travel &amp; Adventure</option>',7)]),512),[[a.u1,i.eventInfo.eventCategory]])]),t[31]||(t[31]=(0,s.Lk)("span",{class:"crud-theme"},"Date & Time",-1)),(0,s.Lk)("div",Ke,[t[20]||(t[20]=(0,s.Lk)("span",{class:"crud-name"},[(0,s.eW)(" Event Type "),(0,s.Lk)("span",{style:{color:"red"}},"*")],-1)),(0,s.Lk)("div",null,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.eventInfo.eventType=e),name:"type",type:"radio",id:"single",value:"Single Event",required:""},null,512),[[a.XL,i.eventInfo.eventType]]),t[18]||(t[18]=(0,s.Lk)("label",{class:"crud-radio",for:"single"},"Single Event",-1))]),(0,s.Lk)("div",null,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.eventInfo.eventType=e),name:"type",type:"radio",id:"multi",value:"Recurring Event",required:""},null,512),[[a.XL,i.eventInfo.eventType]]),t[19]||(t[19]=(0,s.Lk)("label",{class:"crud-radio",for:"multi"},"Recurring Event",-1))])]),(0,s.Lk)("div",Ye,[t[24]||(t[24]=(0,s.Lk)("span",{class:"crud-name"},[(0,s.eW)(" Session(s) "),(0,s.Lk)("span",{style:{color:"red"}},"*")],-1)),(0,s.Lk)("div",Ze,[t[21]||(t[21]=(0,s.Lk)("label",{class:"crud-data-head",for:"single"},[(0,s.eW)(" Date "),(0,s.Lk)("span",{style:{color:"red"}},"*")],-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.eventInfo.eventDate=e),type:"date",id:"date",ref:"date",min:r.getToday(),onInput:t[5]||(t[5]=e=>r.checkDateValidity()),required:""},null,40,et),[[a.Jo,i.eventInfo.eventDate]])]),(0,s.Lk)("div",tt,[t[22]||(t[22]=(0,s.Lk)("label",{class:"crud-data-head",for:"time-start"},[(0,s.eW)(" Start Time "),(0,s.Lk)("span",{style:{color:"red"}},"*")],-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>i.eventInfo.eventTimeStart=e),type:"time",id:"time-start",required:""},null,512),[[a.Jo,i.eventInfo.eventTimeStart]])]),(0,s.Lk)("div",nt,[t[23]||(t[23]=(0,s.Lk)("label",{class:"crud-data-head",for:"time-finish"}," End Time ",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>i.eventInfo.eventTimeFinish=e),type:"time",id:"time-finish",onInput:t[8]||(t[8]=(...e)=>r.checkTimeValidity&&r.checkTimeValidity(...e))},null,544),[[a.Jo,i.eventInfo.eventTimeFinish]])])]),t[32]||(t[32]=(0,s.Lk)("span",{class:"crud-theme"},"Location & Price",-1)),(0,s.Lk)("div",at,[t[25]||(t[25]=(0,s.Lk)("span",{class:"crud-name"},[(0,s.eW)(" Where will your event take place? "),(0,s.Lk)("span",{style:{color:"red"}},"*")],-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>i.eventInfo.eventPlace=e),class:"crud-input",placeholder:"Choose a cool one!",required:""},null,512),[[a.Jo,i.eventInfo.eventPlace]])]),(0,s.Lk)("div",st,[t[26]||(t[26]=(0,s.Lk)("span",{class:"crud-name"},[(0,s.eW)(" Price ($) "),(0,s.Lk)("span",{style:{color:"red"}},"*")],-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>i.eventInfo.eventPrice=e),class:"crud-input",type:"number",placeholder:"100.00",style:{width:"50%"},min:"0.00",required:""},null,512),[[a.Jo,i.eventInfo.eventPrice]])]),t[33]||(t[33]=(0,s.Lk)("span",{class:"crud-theme"},"Upload Image",-1)),(0,s.Lk)("div",ot,[t[27]||(t[27]=(0,s.Lk)("span",{class:"crud-name"},[(0,s.eW)(" Event Banner "),(0,s.Lk)("span",{style:{color:"red"}},"*")],-1)),(0,s.Lk)("input",{onChange:t[11]||(t[11]=(...e)=>r.handleFileUpload&&r.handleFileUpload(...e)),class:"crud-input",type:"file",accept:"image/*",required:!i.isCheckboxChecked,disabled:i.isCheckboxChecked,ref:"fileInput",style:{width:"370px"}},null,40,it),e.receivedEventId?(0,s.bo)(((0,s.uX)(),(0,s.CE)("input",{key:0,type:"checkbox",id:"file-checkbox","onUpdate:modelValue":t[12]||(t[12]=e=>i.isCheckboxChecked=e)},null,512)),[[a.lH,i.isCheckboxChecked]]):(0,s.Q3)("",!0),e.receivedEventId?((0,s.uX)(),(0,s.CE)("label",rt,"Keep the same picture")):(0,s.Q3)("",!0)]),t[34]||(t[34]=(0,s.Lk)("span",{class:"crud-theme"},"Additional Information",-1)),(0,s.Lk)("div",lt,[t[28]||(t[28]=(0,s.Lk)("span",{class:"crud-name"},[(0,s.eW)(" Event Description "),(0,s.Lk)("span",{style:{color:"red"}},"*")],-1)),(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":t[13]||(t[13]=e=>i.eventInfo.eventDescription=e),id:"textarea",class:"crud-input",placeholder:"Describe what's special about your event & other important details.",required:""},"        ",512),[[a.Jo,i.eventInfo.eventDescription]])]),t[35]||(t[35]=(0,s.Lk)("input",{type:"submit",value:"Save & Publish",class:"crud-submit"},null,-1))],32)])}const ut=(0,h.y$)({state(){return{isAuthentificated:!1,userProfile:JSON.parse(localStorage.getItem("userProfile"))||{},notify:JSON.parse(localStorage.getItem("notify"))||!1}},mutations:{setUserProfile(e,t){e.isAuthentificated=t&&Object.keys(t).length>0,e.userProfile=t,t?localStorage.setItem("userProfile",JSON.stringify(t)):localStorage.removeItem("userProfile")},toggleUserSubscription(e,t){e.userProfile.isSubscribed=t,t?localStorage.setItem("notify",JSON.stringify(t)):localStorage.removeItem("notify")}},actions:{async login({commit:e},t){try{const n=await M(t.email,t.password),a=await(0,f.checkSubscription)(n.email);e("setUserProfile",n),e("toggleUserSubscription",a),console.log(a)}catch(n){throw console.error("Error while loging in:",n),n}},async logout({commit:e}){await Q(),e("setUserProfile",{}),Ct.push("/")},initializeAuth({commit:e}){const t=JSON.parse(localStorage.getItem("userProfile")),n=JSON.parse(localStorage.getItem("notify"));t&&e("setUserProfile",t),n&&e("toggleUserSubscription",n)},toggleUserSubscription({commit:e},t){e("toggleUserSubscription",t)}}});ut.dispatch("initializeAuth");var dt=ut,pt={data(){return{eventInfo:{receivedEventId:null,eventName:"",eventCategory:"",eventDate:null,eventType:"",eventTimeStart:null,eventTimeFinish:null,eventPlace:"",eventImage:null,eventDescription:"",eventPrice:0},isCheckboxChecked:!1,oldEventImage:""}},methods:{checkTimeValidity(){const e=new Date(`1970-01-01T${this.eventInfo.eventTimeStart}`),t=new Date(`1970-01-01T${this.eventInfo.eventTimeFinish}`);e>=t&&(this.eventInfo.eventTimeFinish=this.eventInfo.eventTimeStart)},checkDateValidity(){const e=new Date,t=new Date(this.eventInfo.eventDate);t<e&&(this.eventInfo.eventDate=e.toISOString().split("T")[0])},getToday(){const e=new Date,t=e.getDate(),n=e.getMonth()+1,a=e.getFullYear();return`${a}-${n<10?"0"+n:n}-${t<10?"0"+t:t}`},handleFileUpload(e){const t=e.target.files[0];t&&(this.oldEventImage=this.eventInfo.eventImage,this.eventInfo.eventImage=t)},clearForm(){this.eventInfo.eventName="",this.eventInfo.eventCategory="",this.eventInfo.eventDate=null,this.eventInfo.eventType=null,this.eventInfo.eventTimeStart=null,this.eventInfo.eventTimeFinish=null,this.eventInfo.eventPlace="",this.eventInfo.eventImage=null,this.eventInfo.eventDescription="",this.eventInfo.eventPrice=0;const e=this.$refs.fileInput;e&&(e.value="")},async submitForm(){try{const e=new FormData;this.eventInfo.eventImage&&(this.isCheckboxChecked&&(this.eventInfo.eventImage=this.oldEventImage),e.append("image",this.eventInfo.eventImage)),e.append("eventName",this.eventInfo.eventName),e.append("eventCategory",this.eventInfo.eventCategory),e.append("eventDate",this.eventInfo.eventDate),e.append("eventType",this.eventInfo.eventType),e.append("eventTimeStart",this.eventInfo.eventTimeStart),e.append("eventTimeFinish",this.eventInfo.eventTimeFinish),e.append("eventPlace",this.eventInfo.eventPlace),e.append("eventDescription",this.eventInfo.eventDescription),e.append("eventPrice",this.eventInfo.eventPrice),this.receivedEventId?(e.append("id",this.receivedEventId),await me(e),alert("Event edited successfully!")):(await pe(e),await(0,f.sendNotification)(this.eventInfo.eventName,this.eventInfo.eventDescription),alert("Event created successfully!")),this.clearForm(),Ct.push({name:"Home"})}catch(e){console.error("Error creating event:",e.response?.data||e.message),alert("Failed to create event. Please try again.")}},async loadEventData(){try{const e=await de(this.receivedEventId);this.eventInfo=e}catch(e){console.error("Error loading event data:",e)}}},created(){this.receivedEventId=this.$route.params.id,this.receivedEventId&&this.loadEventData()},beforeCreate(){dt.state.isAuthentificated||this.$router.push("/login")}};const vt=(0,k.A)(pt,[["render",ct]]);var mt=vt;const gt={class:"login-page"},ht={class:"login-container"},ft={class:"login-area"},yt={class:"login-signup"};function kt(e,t,n,o,i,r){const l=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",gt,[(0,s.Lk)("div",ht,[t[9]||(t[9]=(0,s.Lk)("div",{style:{display:"flex","flex-direction":"column","padding-left":"5%"}},[(0,s.Lk)("span",{class:"login-slogan"}," Discover tailored events."),(0,s.Lk)("span",{class:"login-slogan"}," Log in for personalized recommendations today! ")],-1)),(0,s.Lk)("div",ft,[t[8]||(t[8]=(0,s.Fv)('<span class="login-head"> Login </span><div class="login-buttons"><button class="login-service"><img src="'+x+'" style="width:25px;margin-right:5px;"> Log in with Google </button><button class="login-service"><img src="'+U+'" style="width:25px;margin-right:5px;"> Log in with Facebook </button></div>',2)),(0,s.Lk)("form",{class:"login-form",onSubmit:t[2]||(t[2]=(0,a.D$)((e=>r.login()),["prevent"]))},[t[3]||(t[3]=(0,s.Lk)("label",{for:"login-email",class:"login-label"},"Email Address",-1)),(0,s.bo)((0,s.Lk)("input",{id:"login-email",placeholder:"Enter your e-mail",class:"login-input",required:"","onUpdate:modelValue":t[0]||(t[0]=e=>this.email=e)},null,512),[[a.Jo,this.email]]),t[4]||(t[4]=(0,s.Lk)("label",{for:"login-pass",class:"login-label"},"Password",-1)),(0,s.bo)((0,s.Lk)("input",{id:"login-pass",placeholder:"Enter password",class:"login-input",type:"password",required:"","onUpdate:modelValue":t[1]||(t[1]=e=>this.password=e)},null,512),[[a.Jo,this.password]]),t[5]||(t[5]=(0,s.Lk)("input",{type:"submit",value:"Login",class:"login-submit"},null,-1))],32),(0,s.Lk)("span",yt,[t[7]||(t[7]=(0,s.eW)(" Don't have an account? ")),(0,s.bF)(l,{to:"/SignUp"},{default:(0,s.k6)((()=>t[6]||(t[6]=[(0,s.eW)(" Sign Up")]))),_:1})])])])])}var bt={data(){return{email:"",password:""}},methods:{async login(){try{await this.$store.dispatch("login",{email:this.email,password:this.password}),alert("Authorization was successful!"),this.$router.push("/")}catch(e){alert("Something wrong!")}}}};const Lt=(0,k.A)(bt,[["render",kt]]);var It=Lt;const Et=[{path:"/SignUp",component:K},{path:"/",name:"Home",component:Me},{path:"/EventForm/:id?",name:"EventForm",component:mt},{path:"/SignUp",name:"SignUp",component:K},{path:"/LogIn",name:"LogIn",component:It}],wt=(0,P.aE)({history:(0,P.LA)(),routes:Et});var Ct=wt,St=n(5015);const Dt=(0,a.Ef)(A);Dt.use(Ct),Dt.use(St.SK),Dt.use(dt),Dt.mount("#app")}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,a,s,o){if(!a){var i=1/0;for(u=0;u<e.length;u++){a=e[u][0],s=e[u][1],o=e[u][2];for(var r=!0,l=0;l<a.length;l++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[l])}))?a.splice(l--,1):(r=!1,o<i&&(i=o));if(r){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,s,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,o,i=a[0],r=a[1],l=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(l)var u=l(n)}for(t&&t(a);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},a=self["webpackChunkpad_project"]=self["webpackChunkpad_project"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(3466)}));a=n.O(a)})();
//# sourceMappingURL=app.5fec9301.js.map